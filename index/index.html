<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>欢迎使用！</title>
    <script src="../common/jq/jquery.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="../common/base/base.css">
    <link rel="stylesheet" href="./index.css"/>
    <script src="../common/base/struts.js" charset="utf-8"></script>
    <script src="../common/base/base.js" charset="utf-8"></script>
    <script type="text/javascript">
      $().ready(function() {

        addEventListener(dq(".menu-content"), "mouseenter",
          function() {
            dq("#menu-hidden").style.display = "block";
          },
        false);

        addEventListener(dq("#menu-hidden"), "mouseenter",
          function() {
              dq("#menu-hidden").style.display = "block";
          },
        false);

        addEventListener(dq(".menu-content"), "mouseleave",
          function() {
              dq("#menu-hidden").style.display = "none";
          },
        false);

        addEventListener(dq("#menu-hidden"), "mouseleave",
          function() {
            dq("#menu-hidden").style.display = "none";
          },
        false);

        addEventListener(dq("#menu-hidden"),
          "click",
          function() {
            // console.log(this.getAttribute("data-hidden-status"));
            if(this.getAttribute("data-hidden-status") === "show"){
              this.style.display = "none";
              dq(".content .left .menu-title").innerText = "";
              addClass(dq(".content .left"), "left-hidden");
              addClass(dq(".content .left .menu-content"), "menu-content-hidden");
              this.setAttribute("data-hidden-status", "hidden")
              this.style.backgroundImage = 'url("../common/icons/right.png")';
            } else if(this.getAttribute("data-hidden-status") === "hidden"){
              // dq("#menu-hidden").style.display = "block";
              this.style.backgroundImage = 'url("../common/icons/left.png")';
              dq(".content .left .menu-title").innerText = "工作空间";
              removeClass(dq(".content .left"), "left-hidden");
              removeClass(dq(".content .left .menu-content"), "menu-content-hidden");
              this.setAttribute("data-hidden-status", "show");
            }
          },
        false);

        addEventListener(dq(".right-body"),
          "mousemove",
          function(e) {
            if(e.clientX <= 20) {
              dq("#menu-hidden").style.display = "block";
            } else if(e.clientY > 100){
              dq("#menu-hidden").style.display = "none";
            }
          },
        false)

        let tabs = dqa(".tab-card .close"); //选项卡标签
        Array.from(tabs).forEach((item, i) => {
          addEventListener(item, "click", function() {

          }, false);
        });

        // alert(1)
        // test(3);
      });
    </script>
  </head>
  <body>
    <div class="content">
      <div class="left">
        <div class="menu-title">工作空间</div>
        <div style="height: 100%; position: relative;">
          <div class="menu-hidden" id="menu-hidden" data-hidden-status="show">

          </div>
          <div class="menu-content scroll">
            <div class="menu">
              <div class="text">
                <img width="24px" height="24px" style="display: inline-block; line-heigh: 35px; vertical-align: middle;" src="../common/icons/bxs-file-archive.svg" />
                <a href="javascript:void(0)" style="flex: 1;">work</a>
              </div>
              <div class="menu-item">
                <img width="24px" height="24px" style="display: inline-block; line-heigh: 35px; vertical-align: middle;" src="../common/icons/bxs-file.svg" />
                <a href="javascript:void(0)" style="flex: 1;">2级菜单</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="right">
        <div class="scroll" style="max-width: 1228px; overflow-y: hidden;">
          <div class="right-head">
            <div class="tab-card-box">
              <div class="tab-card tab-card-overhidden">
                <span class="tab-card-text">测试选项卡</span>
                <span class="close" title="关闭"></span>
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
              <div class="tab-card tab-card-overhidden">
                测试选项卡
              </div>
            </div>
          </div>
        </div>
        <div class="right-body scroll">

        </div>
      </div>
    </div>
  </body>
</html>
